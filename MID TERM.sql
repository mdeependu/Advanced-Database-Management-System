CREATE DATABASE UPES_Library

USE UPES_LIBRARY

--1
CREATE TABLE BOOK
(BOOK_ID INTEGER PRIMARY KEY, TITLE CHAR(10), PUB_NAME CHAR(10), EDITION INTEGER, YEAR INTEGER);
 
CREATE TABLE AUTHORS
(AUTHOR_NAME CHAR(10), BOOK_ID INTEGER, AFFLIATION CHAR(10), PRIMARY KEY (BOOK_ID, AUTHOR_NAME));

CREATE TABLE PUBLISHER
(PUBLISHER_ID CHAR(10) PRIMARY KEY, NAME CHAR(20), ADDRESS CHAR(50), CITY CHAR(20), COUNTRY CHAR(20), PHONE INTEGER);

CREATE TABLE BOOK_INFO
(BOOK_ID INTEGER, BRANCH_ID INTEGER PRIMARY KEY, NO_OF_COPIES INTEGER, FOREIGN KEY (BOOK_ID) REFERENCES BOOK(BOOK_ID));

CREATE TABLE BOOK_BORROWER
(BOOK_ID INTEGER, BRANCH_ID INTEGER, CARD_NO INTEGER, DATE_OUT DATE, DUE_DATE DATE, PRIMARY KEY(BOOK_ID,BRANCH_ID,CARD_NO),FOREIGN KEY(BOOK_ID) REFERENCES BOOK(BOOK_ID), FOREIGN KEY(BRANCH_ID) REFERENCES BOOK_INFO(BRANCH_ID));

CREATE TABLE BRANCH
(BRANCH_ID INTEGER PRIMARY KEY, BRANCH_NAME CHAR(20), Location CHAR(20), FOREIGN KEY(BRANCH_ID) REFERENCES BOOK_INFO(BRANCH_ID));

--2
--BOOK
INSERT INTO BOOK VALUES (1,'TITANIC','SONY',2,1985);
INSERT INTO BOOK VALUES (2,'HARRY POTTER','HOGWARTS',3,2001);
INSERT INTO BOOK VALUES (3,'AVENGERS','MARVEL',5,2010);

--AUTHOUR
INSERT INTO AUTHORS VALUES ('LEO',1,'21_CENTURY');
INSERT INTO AUTHORS VALUES ('ROWLING',2,'UNIVERSAL');
INSERT INTO AUTHORS VALUES ('RUS',3,'FOX');

--PUBLISHER
INSERT INTO PUBLISHER VALUES (101,'CHRIS','STREET','ISTANBUL','TURKEY',546789);
INSERT INTO PUBLISHER VALUES (102,'KYLE','MELBOURN','SYDNEY','AUSTRALIA',445639);
INSERT INTO PUBLISHER VALUES (101,'RUSSO','TIMESQUARE','NYC','USA',346829);

--BOOK_INFO
INSERT INTO BOOK_INFO VALUES (1,1001,54);
INSERT INTO BOOK_INFO VALUES (2,1002,49);
INSERT INTO BOOK_INFO VALUES (3,1003,100);

--BOOK_BORROWER
INSERT INTO BOOK_BORROWER VALUES (1,1001,111,'15-JAN-2002','30-JAN-2002');
INSERT INTO BOOK_BORROWER VALUES (2,1002,112,'01-MAR-2013','30-MAR-2013');
INSERT INTO BOOK_BORROWER VALUES (3,1003,113,'01-FEB-2015','20-FEB-2015');

--BRANCH
INSERT INTO BRANCH VALUES (1001,'ROMANCE','TURKEY');
INSERT INTO BRANCH VALUES (1001,'MAGIC','SYDNEY');
INSERT INTO BRANCH VALUES (1001,'SCI-FI','USA');

SELECT TITLE FROM BOOK
SELECT PUB_NAME FROM BOOK
SELECT AUTHOR_NAME FROM AUTHORS
SELECT NO_OF_COPIES FROM BOOK_INFO
SELECT CARD_NO FROM BOOK_BORROWER

---5
select count(*) from Book;

--7
select title from Book;

----8
SELECT TITLE FROM BOOK;

SELECT AUTHOR_NAME FROM AUTHORS;

CREATE TABLE STUDENT(
NAME VARCHAR(10),
STUDENT_NUMBER INT,
CLASS INT,
MAJOR VARCHAR(5),
);

CREATE TABLE COURSE(
COURSE_NAME VARCHAR(20) NOT NULL,
COURSE_NUMBER VARCHAR(20) NOT NULL,
CREDIT_HOURS INT,
DEPARTMENT VARCHAR(5),
PRIMARY KEY (COURSE_NAME),
);

CREATE TABLE PREREQUISITE(
COURSE_NAME VARCHAR(20) NOT NULL,
PREREQUISITE_NUMBER VARCHAR(10) NOT NULL,
COURSE_NUMBER VARCHAR(20) references COURSE(COURSE_NUMBER),
PRIMARY KEY(COURSE_NUMBER),
);

CREATE TABLE SECTION(
SECTION_IDENTIFIER INT NOT NULL,
COURSE_NUMBER VARCHAR(20) NOT NULL,
SEMESTER VARCHAR(5),
YEAR INT,
INSTRUCTOR VARCHAR(10),
COURSE_NUMBER VARCHAR(20) references COURSE(COURSE_NUMBER),
PRIMARY KEY(COURSE_NUMBER),
);

CREATE TABLE GRADE_REPORT(
STUDENT_NUMBER INT,
STUDENT_IDENTIFIER INT,
GRADE VARCHAR,
);